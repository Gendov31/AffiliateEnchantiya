<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–∞–≥–∏—è—Ç–∞ –Ω–∞ Enchantiya</title>
</head>
<link rel="stylesheet" href="/style.css">
<body>
  <!-- Magical Background Elements -->
  <div class="stars" id="stars"></div>
  <div class="floating-particles" id="particles"></div>

  <!-- Auth Screen -->
  <div id="authScreen" class="auth-container">
    <div class="header fade-in">
      <h1>‚ú® –°–µ–º–µ–π—Å—Ç–≤–æ—Ç–æ –Ω–∞ Enchantiya</h1>
      <p>–í–ª–µ–∑ –≤ –ø—Ä–æ—Ñ–∏–ª–∞ —Å–∏</p>
    </div>

    <div class="glass-card fade-in">
      <div class="auth-tabs">
        <button class="auth-tab active" onclick="switchTab('login')">üîê –í—Ö–æ–¥</button>
        <button class="auth-tab" onclick="switchTab('register')">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
      </div>

      <!-- Login Form -->
      <div id="loginForm">
        <div class="form-group">
          <label for="loginEmail">‚úâÔ∏è Email</label>
          <div class="input-container">
            <input type="email" id="loginEmail" placeholder="—Ç–≤–æ—è—Ç@email.com" autocomplete="email">
          </div>
        </div>
        
        <div class="form-group">
          <label for="loginPassword">üîí –ü–∞—Ä–æ–ª–∞</label>
          <div class="input-container">
            <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password">
          </div>
        </div>
        
        <button class="magical-btn btn-primary" onclick="login()" id="loginBtn">
          <span class="icon">üöÄ</span>
          –í–ª–µ–∑
        </button>
      </div>

      <!-- Register Form -->
      <div id="registerForm" class="hidden">
        <div class="form-group">
          <label for="registerName">üë§ –ò–º–µ</label>
          <div class="input-container">
            <input type="text" id="registerName" placeholder="–¢–≤–æ–µ—Ç–æ –∏–º–µ" autocomplete="name">
          </div>
        </div>

        <div class="form-group">
          <label for="registerEmail">‚úâÔ∏è Email</label>
          <div class="input-container">
            <input type="email" id="registerEmail" placeholder="—Ç–≤–æ—è—Ç@email.com" autocomplete="email">
          </div>
        </div>
        <div class="form-group">
          <label for="registerPhone">üìû –¢–µ–ª–µ—Ñ–æ–Ω</label>
          <div class="input-container">
            <input type="tel" id="registerPhone" placeholder="08XXXXXXXX" autocomplete="tel">
          </div>
        </div>
        
        <div class="form-group">
          <label for="registerPassword">üîí –ü–∞—Ä–æ–ª–∞</label>
          <div class="input-container">
            <input type="password" id="registerPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password">
          </div>
        </div>

        <div class="form-group"  style="display: none;">
          <label for="registerPartnerRef">üéØ –ü–∞—Ä—Ç–Ω—å–æ—Ä—Å–∫–æ ID</label>
          <div class="input-container">
            <input type="text" id="registerPartnerRef" placeholder="–ì–µ–Ω–µ—Ä–∏—Ä–∞ —Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ..." autocomplete="username" readonly>
          </div>
          <button type="button" class="magical-btn btn-outline" onclick="generatePartnerRef()" style="margin-top: 1rem;">
            <span class="icon">üé≤</span>
            –ì–µ–Ω–µ—Ä–∏—Ä–∞–π –Ω–æ–≤–æ ID
          </button>
        </div>
        
        <button class="magical-btn btn-secondary" onclick="register()" id="registerBtn">
          <span class="icon">‚ú®</span>
          –°—ä–∑–¥–∞–π –∞–∫–∞—É–Ω—Ç
        </button>
      </div>

      <div id="authMessage"></div>
    </div>
  </div>

  <!-- Dashboard Screen -->
  <div id="dashboardScreen" class="container hidden">
    <div class="header fade-in">
      <h1>‚ú® Magical Affiliate Dashboard</h1>
      <p>–£–ø—Ä–∞–≤–ª—è–≤–∞–π —Å–≤–æ–∏—Ç–µ –∞—Ñ–∏–ª–∏–µ–π—Ç –≤—Ä—ä–∑–∫–∏ –∏ —Å–ª–µ–¥–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ</p>
    </div>

    <div class="user-info fade-in">
      <div class="user-welcome">
        üéâ –î–æ–±—Ä–µ –¥–æ—à—ä–ª, <span id="userName"></span>!
      </div>
      <button class="magical-btn btn-logout" onclick="logout()">
        <span class="icon">üö™</span>
        –ò–∑—Ö–æ–¥
      </button>
    </div>

    <div class="card fade-in">
      <div class="card-title">
        <span class="icon">üîó</span>
        –ì–µ–Ω–µ—Ä–∏—Ä–∞–π –∞—Ñ–∏–ª–∏–µ–π—Ç –ª–∏–Ω–∫
      </div>
    
      
      <button class="magical-btn btn-primary" onclick="generateLink()">
        <span class="icon">‚ú®</span>
        –ì–µ–Ω–µ—Ä–∏—Ä–∞–π –º–∞–≥–∏—á–µ—Å–∫–∏ –ª–∏–Ω–∫
      </button>
      
      <div id="linkDisplay"></div>
    </div>

    <div class="card fade-in">
      <div class="card-title">
        <span class="icon">üìä</span>
        –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–æ—Ä—ä—á–∫–∏
      </div>
    
      <button class="magical-btn btn-success" onclick="openAffiliateDashboard()">
        <span class="icon">üìà</span>
        –ü–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏
      </button>
    </div>
    <div id="affiliateModal" class="finances-modal" style="display: none;">
      <div class="finances-content">
        <div class="finances-header">
          <h3>üíº –ü–∞—Ä—Ç–Ω—å–æ—Ä—Å–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
          <button class="finances-close-btn-header" onclick="closeAffiliateDashboard()">‚úï</button>
        </div>
  
        <div class="finances-body">
          <div id="affiliateLoading" class="finances-loading">
            üîÑ –ó–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è...
          </div>
  
          <div id="affiliateError" class="finances-error" style="display: none;">
            ‚ùå –í—ä–∑–Ω–∏–∫–Ω–∞ –≥—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ. –û–ø–∏—Ç–∞–π—Ç–µ –æ—Ç–Ω–æ–≤–æ.
          </div>
  
          <div id="affiliateData" style="display: none;">
            <!-- Summary -->
            <div class="finances-summary">
              <div class="summary-card">
                <span class="summary-card-icon">üì¶</span>
                <div class="summary-card-label">–ü–æ—Ä—ä—á–∫–∏</div>
                <div class="summary-card-value" id="affiliateOrders">-</div>
              </div>
              <div class="summary-card">
                <span class="summary-card-icon">üí∞</span>
                <div class="summary-card-label">–û–±—â–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç</div>
                <div class="summary-card-value" id="affiliateSales">- –ª–≤.</div>
              </div>
              <div class="summary-card">
                <span class="summary-card-icon">‚úÖ</span>
                <div class="summary-card-label">–ò–∑–ø–ª–∞—Ç–µ–Ω–æ</div>
                <div class="summary-card-value" id="affiliatePaid">- –ª–≤.</div>
              </div>
              <div class="summary-card highlight">
                <span class="summary-card-icon">‚è≥</span>
                <div class="summary-card-label">–ó–∞ –∏–∑–ø–ª–∞—â–∞–Ω–µ</div>
                <div class="summary-card-value" id="affiliateToPay">- –ª–≤.</div>
              </div>
            </div>
  
            <!-- Payment History -->
            <div class="finances-data-section">
              <div class="section-title">üí≥ –ò—Å—Ç–æ—Ä–∏—è –Ω–∞ –∏–∑–ø–ª–∞—â–∞–Ω–∏—è—Ç–∞</div>
              <div id="affiliatePaymentsHistory"></div>
            </div>
          </div>
        </div>
  
        <div class="finances-footer">
          <button class="finances-close-btn" onclick="closeAffiliateDashboard()">‚úï –ó–∞—Ç–≤–æ—Ä–∏</button>
        </div>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</html>